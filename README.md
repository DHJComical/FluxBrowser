# FluxBrowser

![FluxBrowser](./resources/image/FluxBrowser-icon.ico)

FluxBrowser 是一款基于 Electron 开发的轻量化、无边框沉浸式浏览器。它专为网页视频播放和多任务并行场景设计，通过透明度控制和鼠标穿透技术，让网页内容能够自然地融入桌面环境。

## 核心功能

* **沉浸模式 (Immersion Mode)**：一键切换窗口至置顶、透明并开启鼠标穿透状态。在观看视频的同时，不影响对底层其他软件的操作。
* **全局老板键 (Boss Key)**：支持通过全局快捷键瞬间隐藏或显示浏览器窗口。
* **快捷键自定义 GUI**：集成图形化设置面板，支持用户实时录制并保存自定义全局快捷键，配置即时生效。
* **窗口状态持久化**：
    * **位置记忆**：自动记录上次关闭时的窗口坐标与分辨率。
    * **页面恢复**：自动记录并打开上次关闭前最后浏览的网页 URL。
* **智能交互逻辑**：
    * **动态穿透**：沉浸模式下，鼠标移入地址栏或缩放边框时会自动恢复点击权限，移出后恢复穿透。
    * **跳转拦截**：自动拦截 `target="_blank"` 等新窗口请求，强制在当前视图内跳转。
* **视频辅助控制**：无需切换窗口，通过全局快捷键直接控制网页内视频的播放、暂停与进度快进。

## 安装与启动

### 1. 环境准备

确保您的计算机已安装 [Node.js](https://nodejs.org/) (推荐 v18 或更高版本)。

### 2. 克隆与安装

```bash
# 克隆仓库
git clone https://github.com/your-username/FluxBrowser.git

# 进入目录
cd FluxBrowser

# 安装依赖
npm install
```

### 3. 运行开发版

```bash
npm start
```

## 使用手册

### 默认快捷键 (全局生效)

| 功能 | 默认按键 | 说明 |
|------|----------|------|
| 老板键 | `Delete` | 隐藏或显示浏览器窗口 |
| 沉浸模式 | `Home` | 切换置顶、透明及鼠标穿透状态 |
| 视频暂停/播放 | `Down` | 远程控制网页内视频状态 |
| 视频快进 | `Right` | 网页视频进度前进 10 秒 |
| 视频快退 | `Left` | 网页视频进度后退 10 秒 |
| 透明度增加 | `Alt + Up` | 提高窗口透明度 |
| 透明度降低 | `Alt + Down` | 降低窗口透明度 |
| 前进 | `Alt + Right` | 进入下一个网页 |
| 后退 | `Alt + Left` | 返回上一个网页 |

### 分辨率预设

点击菜单图标 → 分辨率预设，可快速切换窗口大小（仅 webview 区域）：

- 480 × 270
- 640 × 360
- 800 × 450
- 960 × 540
- 1024 × 576
- 1280 × 720 (HD)

### 自定义快捷键

1. 点击标题栏左侧的 **菜单图标**。
2. 选择 **"设置快捷键"**。
3. 在弹出的面板中，用鼠标点击目标功能的输入框。
4. 在键盘上直接按下你想要组合的按键（例如 `Ctrl + Shift + F`），系统将自动录制。
5. 点击 **"保存并生效"**。

### 窗口操作

* **移动窗口**：左键拖拽标题栏左侧的 "FluxBrowser" 文字区域。
* **调整大小**：在非沉浸模式下，将鼠标移至窗口右边缘、下边缘或右下角蓝色手柄处进行拖拽。
* **输入网址**：在地址栏输入 URL 后按下回车键，或点击右侧箭头按钮。

## 配置文件说明

应用会在系统的 userData 目录下（通常位于 `%AppData%/FluxBrowser`）生成以下文件：

* `key-config.json`：存储用户自定义的快捷键映射。
* `window-bounds.json`：存储窗口的坐标 (x, y) 和尺寸 (width, height)。
* `localStorage`：由渲染进程存储上次访问的页面地址。

## 构建与发布

本项目使用 `electron-builder` 进行打包，支持生成带路径选择功能的安装程序：

```bash
# 构建 Windows 平台的安装程序 (Setup.exe)
npm run build
```

打包产物将输出在 `dist` 文件夹中。

## 技术栈

* **Runtime**: Electron
* **Backend**: Node.js (CommonJS)
* **Frontend**: HTML5, CSS3 (Glassmorphism), Vanilla JavaScript
* **Icon Support**: Material Icons

## 贡献

这是一个 AI 代码的作品(主要是Gemini-3，Cline + MiniMax-M2.5),但仍欢迎所有人做贡献

欢迎提交 Issue 和 Pull Request！

## 联系方式
